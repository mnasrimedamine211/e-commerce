<nz-table
  class="overflow-auto h-full flex-grow"
  #basicTable
  [nzData]="(productService.filteredProductList$ | async) || []"
  ngSkipHydration
>
  <thead>
    <tr>
      <th
        *ngFor="let column of listOfColumn"
        [nzSortFn]="column.compare"
        [nzSortPriority]="column.priority"
      >
        {{ column.title }}
      </th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let data of basicTable.data">
      <td>{{ data.title }}</td>
      <td>{{ data.price }}</td>
      <td>{{ data.category }}</td>
      <td>
        <span
          [ngClass]="{
            'text-green-600': isAvailable(data),
            'text-red-600': !isAvailable(data)
          }"
        >
          {{ isAvailable(data) ? "Available" : "Not Available" }}
        </span>
      </td>
      <td>
        <div class="flex items-center gap-2">
          <button
            nz-button
            nzType="primary"
            (click)="cartService.addToCart(data)"
            [disabled]="cartService.isProductInCart(data.id)"
          >
            Add to Cart
          </button>
          <button
            nz-button
            nzType="primary"
            nzDanger
            (click)="cartService.removeFromCart(data.id)"
            *ngIf="cartService.isProductInCart(data.id)"
          >
            Remove
          </button>
        </div>
      </td>
    </tr>
  </tbody>
</nz-table>
